<!DOCTYPE html>
<html>
<head>
    <style>
        label, input, button {
            box-sizing: border-box; 
            width: 100%;
            display:block;
        }
    </style>
</head>
<body>
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; max-width: 400px;">
        <label for="secret">Geheim: </label>
        <input id="secret" type="password"></input>
        <button id="go" onclick="f()">Set admin password</button>
    </div>
    <script>
        function getCookie(name) { var match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)')); if (match) return match[2]; else return null; }

        function f(val) {
            document.cookie = 'Set-Cookie: secret=' + document.getElementById("secret").value + '; SameSite=None; Secure';
            window.location.replace("/new");
        }
        if (getCookie("secret") != null)
            window.location.replace("/new");
        
        document.querySelector("#secret").addEventListener("keyup", event => {
            if(event.key !== "Enter") return; 
            document.querySelector("#go").click(); 
            event.preventDefault(); 
        });
    </script>
</body>

</html>